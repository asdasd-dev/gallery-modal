(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),s=n.n(o),r=n(4),i=n.n(r),a=(n(12),n(3)),l=n.n(a),u=n(6),d=n(2);n.p,n(14),n(15),n(16);function j(e){return Object(c.jsx)("div",{className:"GalleryImage",children:Object(c.jsx)("img",{src:e.src,onClick:e.openModal})})}function m(e){var t=Object(o.useState)({images:[],isLoaded:!1}),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(o.useState)(void 0),a=Object(d.a)(i,2),l=a[0],u=a[1];return Object(o.useEffect)((function(){s.isLoaded||fetch(e.imagesUrl).then((function(e){return e.json()})).then((function(e){r({images:e,isLoaded:!0})}),(function(e){return u(e)}))})),Object(c.jsx)("div",{className:"Gallery",children:s.isLoaded?l?Object(c.jsx)("p",{children:l.message}):s.images.map((function(t){return Object(c.jsx)(j,{src:t.url,openModal:e.openModal.bind(null,t.id)},t.id)})):Object(c.jsx)("p",{children:"Loading..."})})}n(17);function b(e){return Object(c.jsx)("div",{className:"Footer",children:"@ 2018-2020"})}var p=function(){var e=Object(o.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(o.useState)(!1),r=Object(d.a)(s,2),i=r[0],a=r[1];return{open:n,close:i,openModal:function(){c(!0)},closeModal:function(){a(!0),c(!1)}}};function f(e){var t=document.getElementById("modal-root");t||((t=document.createElement("div")).setAttribute("id","modal-root"),document.body.appendChild(t));var n=document.createElement("div");return Object(o.useEffect)((function(){return t.appendChild(n),function(){return t.removeChild(n)}})),i.a.createPortal(e.children,n)}n(18);var h=function(e){return Object(c.jsx)(f,{children:Object(c.jsxs)("div",{className:"Modal",children:[Object(c.jsx)("div",{className:"flex-container",children:Object(c.jsxs)("div",{className:"modal-content"+(e.mobile?" mobile":""),children:[e.render?e.render(e.children):e.children,Object(c.jsx)("img",{className:"close-modal",src:"Close.png",onClick:e.close})]})}),Object(c.jsx)("div",{className:"blackout"})]})})};n(19);function O(e){return Object(c.jsx)("div",{className:"BigImage",children:Object(c.jsx)("img",{src:e.src})})}n(20);function x(e){var t=Object(o.useState)(""),n=Object(d.a)(t,2),s=n[0],r=n[1],i=Object(o.useState)(""),a=Object(d.a)(i,2),l=a[0],u=a[1];return Object(c.jsx)("div",{className:"CommentForm",children:Object(c.jsxs)("form",{className:"form-element",children:[Object(c.jsx)("input",{type:"text",placeholder:"Your name",onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("input",{type:"text",placeholder:"Your comment",onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Post comment",onClick:function(t){e.onSubmit(s,l),t.preventDefault()}})]})})}n(21);function v(e){return Object(c.jsx)("div",{className:"Comments",children:e.comments.length?e.comments.map((function(e){var t=new Date(e.date);return Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsxs)("p",{className:"comment-date",children:[t.getDate(),".",t.getMonth()+1,".",t.getFullYear()]}),Object(c.jsx)("p",{className:"comment-text",children:e.text})]},e.id)})):e.empty()})}var g=function(){var e=p(),t=e.open,n=e.openModal,s=e.closeModal,r=Object(o.useState)(document.documentElement.clientWidth<480),i=Object(d.a)(r,2),a=i[0],j=i[1];Object(o.useEffect)((function(){j(document.documentElement.clientWidth<768)}));var f=Object(o.useState)(void 0),g=Object(d.a)(f,2),y=g[0],N=g[1],C=function(){var e=Object(u.a)(l.a.mark((function e(t,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://boiling-refuge-66454.herokuapp.com/images/"+t).then((function(e){return e.json()})).then((function(e){N(e),n(),document.documentElement.scrollTop=0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=new FormData).append("name",t),c.append("text",n),fetch("https://boiling-refuge-66454.herokuapp.com/images/"+y.id+"/comments",{method:"POST",body:c}).then((function(e){return alert("status: "+e.status)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("h1",{children:"Test App"}),Object(c.jsx)(m,{imagesUrl:"https://boiling-refuge-66454.herokuapp.com/images",openModal:C})]}),Object(c.jsx)(b,{}),t?Object(c.jsx)(h,{close:function(){s(),N(void 0)},mobile:a,children:a?Object(c.jsxs)("div",{children:[Object(c.jsx)(O,{src:y.url}),Object(c.jsx)(v,{comments:y.comments,empty:function(){return Object(c.jsx)("div",{children:"No comments"})}}),Object(c.jsx)("div",{style:{padding:"0 20px"},children:Object(c.jsx)(x,{onSubmit:S})})]}):Object(c.jsxs)("div",{style:{display:"flex",padding:"40px"},children:[Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(c.jsx)(O,{src:y.url}),Object(c.jsx)(x,{onSubmit:S})]}),Object(c.jsx)(v,{comments:y.comments,empty:function(){return Object(c.jsx)("div",{children:"No comments"})}})]})}):null]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),y()}],[[22,1,2]]]);
//# sourceMappingURL=main.11dfc03a.chunk.js.map